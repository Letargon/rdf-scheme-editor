{"ast":null,"code":"var _jsxFileName = \"/home/rashid/github/rdf-scheme-editor/src/components/Controls.stories.js\";\nimport React, { useEffect, useState } from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { useTranslation } from 'react-i18next';\nimport ElementsTreeAndDetailsTable from \"./ElementsTreeAndDetailsTable\";\nimport { ElementsTreeAndDetailsTableContext } from \"./ElementsTreeAndDetailsTableContext\";\nimport { ElementsTreeAndDetailsTableContextProvider } from \"./ElementsTreeAndDetailsTableContextProvider\";\nvar elementsTreeData = [{\n  title: '0-0',\n  key: '0-0',\n  children: [{\n    title: '0-0-0',\n    key: '0-0-0',\n    children: [{\n      title: '0-0-0-0',\n      key: '0-0-0-0'\n    }, {\n      title: '0-0-0-1',\n      key: '0-0-0-1'\n    }, {\n      title: '0-0-0-2',\n      key: '0-0-0-2'\n    }]\n  }, {\n    title: '0-0-1',\n    key: '0-0-1',\n    children: [{\n      title: '0-0-1-0',\n      key: '0-0-1-0'\n    }, {\n      title: '0-0-1-1',\n      key: '0-0-1-1'\n    }, {\n      title: '0-0-1-2',\n      key: '0-0-1-2'\n    }]\n  }, {\n    title: '0-0-2',\n    key: '0-0-2'\n  }]\n}, {\n  title: '0-1',\n  key: '0-1',\n  children: [{\n    title: '0-1-0-0',\n    key: '0-1-0-0'\n  }, {\n    title: '0-1-0-1',\n    key: '0-1-0-1'\n  }, {\n    title: '0-1-0-2',\n    key: '0-1-0-2'\n  }]\n}, {\n  title: '0-2',\n  key: '0-2'\n}];\nvar detailsColumns = [{\n  title: 'Имя',\n  dataIndex: 'name',\n  key: 'name',\n  render: function render(text) {\n    return React.createElement(\"a\", {\n      href: \"javascript:void(0);\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, text);\n  }\n}, {\n  title: 'Тип данных',\n  dataIndex: 'dataType',\n  key: 'dataType'\n}, {\n  title: 'Описание',\n  dataIndex: 'description',\n  key: 'description'\n}];\nvar detailsData = [{\n  key: '1',\n  name: 'Приоритет',\n  dataType: 'число',\n  description: 'Приоритет требования'\n}, {\n  key: '2',\n  name: 'Риск',\n  dataType: 'число',\n  description: 'Риск требования'\n}];\nvar expandedKeys = []; // в отдельной функции маппинг изменения одного компонента на изменение состояния другого\n\nvar detailsQuery = \"SELECT ?pred ?obj\\nWHERE {\\n <###> ?pred ?obj\\n}\";\nstoriesOf('Редактор атрибутов классов', module) //  .add('Без данных', () => <ElementsTreeAndDetailsTable />) // эта штука без контекста не работает и не факт, что должна\n.add('С корректными данными иерархии классов', function () {\n  return React.createElement(ElementsTreeAndDetailsTableContextProvider, {\n    url: \"https://agentlab.ru/rdf4j-server/repositories/reqs\",\n    query: \"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n      PREFIX oslc: <http://open-services.net/ns/core#>\\n      \\n      SELECT DISTINCT ?type ?label\\n      WHERE {\\n       ?type a rdfs:Class .\\n       ?type rdfs:isDefinedBy oslc:\\n       OPTIONAL {\\n         ?type rdfs:label ?label .\\n         FILTER (lang(?label) = \\\"\\\" || lang(?label) = \\\"en\\\")\\n       }\\n      }\",\n    detailsQuery: detailsQuery,\n    detailsColumns: [{\n      title: 'Параметр',\n      dataIndex: 'pred',\n      key: 'pred'\n    }, {\n      title: 'Значение',\n      dataIndex: 'obj',\n      key: 'obj'\n    }],\n    rootElement: [{\n      title: 'Class',\n      key: 'rdfs:Class',\n      children: [{}]\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(ElementsTreeAndDetailsTable, {\n    elementsHeader: \"Классы\",\n    detailsHeader: \"Детали класса\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }));\n}).add('С корректными данными иерархии свойств', function () {\n  return React.createElement(ElementsTreeAndDetailsTableContextProvider, {\n    url: \"https://agentlab.ru/rdf4j-server/repositories/reqs\",\n    query: \"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\n      PREFIX oslc: <http://open-services.net/ns/core#>\\n      \\n      SELECT DISTINCT ?type ?label\\n      WHERE {\\n       ?type a rdf:Property .\\n       OPTIONAL {\\n        ?type rdfs:label ?label .\\n        FILTER (lang(?label) = \\\"\\\" || lang(?label) = \\\"en\\\")\\n       }\\n      }\",\n    detailsQuery: detailsQuery,\n    detailsColumns: [{\n      title: 'Параметр',\n      dataIndex: 'pred',\n      key: 'pred'\n    }, {\n      title: 'Значение',\n      dataIndex: 'obj',\n      key: 'obj'\n    }],\n    rootElement: [{\n      title: 'Property',\n      key: 'rdfs:Property',\n      children: [{}]\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(ElementsTreeAndDetailsTable, {\n    elementsTreeData: elementsTreeData,\n    detailsColumns: detailsColumns,\n    detailsData: detailsData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }));\n});","map":{"version":3,"sources":["/home/rashid/github/rdf-scheme-editor/src/components/Controls.stories.js"],"names":["React","useEffect","useState","storiesOf","useTranslation","ElementsTreeAndDetailsTable","ElementsTreeAndDetailsTableContext","ElementsTreeAndDetailsTableContextProvider","elementsTreeData","title","key","children","detailsColumns","dataIndex","render","text","detailsData","name","dataType","description","expandedKeys","detailsQuery","module","add"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,cAAT,QAA+B,eAA/B;AAEA,OAAOC,2BAAP,MAAwC,+BAAxC;AACA,SAAQC,kCAAR,QAAiD,sCAAjD;AACA,SAAQC,0CAAR,QAAyD,8CAAzD;AAEA,IAAMC,gBAAgB,GAAG,CAAC;AACxBC,EAAAA,KAAK,EAAE,KADiB;AAExBC,EAAAA,GAAG,EAAE,KAFmB;AAGxBC,EAAAA,QAAQ,EAAE,CAAC;AACTF,IAAAA,KAAK,EAAE,OADE;AAETC,IAAAA,GAAG,EAAE,OAFI;AAGTC,IAAAA,QAAQ,EAAE,CACR;AAAEF,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KADQ,EAER;AAAED,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KAFQ,EAGR;AAAED,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KAHQ;AAHD,GAAD,EAQP;AACDD,IAAAA,KAAK,EAAE,OADN;AAEDC,IAAAA,GAAG,EAAE,OAFJ;AAGDC,IAAAA,QAAQ,EAAE,CACR;AAAEF,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KADQ,EAER;AAAED,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KAFQ,EAGR;AAAED,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,GAAG,EAAE;AAAzB,KAHQ;AAHT,GARO,EAgBP;AACDD,IAAAA,KAAK,EAAE,OADN;AAEDC,IAAAA,GAAG,EAAE;AAFJ,GAhBO;AAHc,CAAD,EAuBtB;AACDD,EAAAA,KAAK,EAAE,KADN;AAEDC,EAAAA,GAAG,EAAE,KAFJ;AAGDC,EAAAA,QAAQ,EAAE,CACR;AAAEF,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,GAAG,EAAE;AAAzB,GADQ,EAER;AAAED,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,GAAG,EAAE;AAAzB,GAFQ,EAGR;AAAED,IAAAA,KAAK,EAAE,SAAT;AAAoBC,IAAAA,GAAG,EAAE;AAAzB,GAHQ;AAHT,CAvBsB,EA+BtB;AACDD,EAAAA,KAAK,EAAE,KADN;AAEDC,EAAAA,GAAG,EAAE;AAFJ,CA/BsB,CAAzB;AAoCA,IAAME,cAAc,GAAG,CAAC;AACtBH,EAAAA,KAAK,EAAE,KADe;AAEtBI,EAAAA,SAAS,EAAE,MAFW;AAGtBH,EAAAA,GAAG,EAAE,MAHiB;AAItBI,EAAAA,MAAM,EAAE,gBAAAC,IAAI;AAAA,WAAI;AAAG,MAAA,IAAI,EAAC,qBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BA,IAA/B,CAAJ;AAAA;AAJU,CAAD,EAKpB;AACDN,EAAAA,KAAK,EAAE,YADN;AAEDI,EAAAA,SAAS,EAAE,UAFV;AAGDH,EAAAA,GAAG,EAAE;AAHJ,CALoB,EASpB;AACDD,EAAAA,KAAK,EAAE,UADN;AAEDI,EAAAA,SAAS,EAAE,aAFV;AAGDH,EAAAA,GAAG,EAAE;AAHJ,CAToB,CAAvB;AAeA,IAAMM,WAAW,GAAG,CAAC;AACnBN,EAAAA,GAAG,EAAE,GADc;AAEnBO,EAAAA,IAAI,EAAE,WAFa;AAGnBC,EAAAA,QAAQ,EAAE,OAHS;AAInBC,EAAAA,WAAW,EAAE;AAJM,CAAD,EAKjB;AACDT,EAAAA,GAAG,EAAE,GADJ;AAEDO,EAAAA,IAAI,EAAE,MAFL;AAGDC,EAAAA,QAAQ,EAAE,OAHT;AAIDC,EAAAA,WAAW,EAAE;AAJZ,CALiB,CAApB;AAYA,IAAMC,YAAY,GAAG,EAArB,C,CAGA;;AAEA,IAAMC,YAAY,qDAAlB;AAQAlB,SAAS,CAAC,4BAAD,EAA+BmB,MAA/B,CAAT,CACA;AADA,CAEGC,GAFH,CAEO,wCAFP,EAEiD;AAAA,SAC7C,oBAAC,0CAAD;AACE,IAAA,GAAG,EAAE,oDADP;AAEE,IAAA,KAAK,wbAFP;AAeE,IAAA,YAAY,EAAEF,YAfhB;AAgBE,IAAA,cAAc,EAAE,CAAC;AACfZ,MAAAA,KAAK,EAAE,UADQ;AAEfI,MAAAA,SAAS,EAAE,MAFI;AAGfH,MAAAA,GAAG,EAAE;AAHU,KAAD,EAIb;AACDD,MAAAA,KAAK,EAAE,UADN;AAEDI,MAAAA,SAAS,EAAE,KAFV;AAGDH,MAAAA,GAAG,EAAE;AAHJ,KAJa,CAhBlB;AAyBE,IAAA,WAAW,EAAE,CAAC;AACZD,MAAAA,KAAK,EAAE,OADK;AAEZC,MAAAA,GAAG,EAAE,YAFO;AAGZC,MAAAA,QAAQ,EAAE,CAAC,EAAD;AAHE,KAAD,CAzBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA8BE,oBAAC,2BAAD;AAA6B,IAAA,cAAc,EAAE,QAA7C;AAAuD,IAAA,aAAa,EAAE,eAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,CAD6C;AAAA,CAFjD,EAoCGY,GApCH,CAoCO,wCApCP,EAoCiD;AAAA,SAC7C,oBAAC,0CAAD;AACE,IAAA,GAAG,EAAE,oDADP;AAEE,IAAA,KAAK,mZAFP;AAcE,IAAA,YAAY,EAAEF,YAdhB;AAeE,IAAA,cAAc,EAAE,CAAC;AACfZ,MAAAA,KAAK,EAAE,UADQ;AAEfI,MAAAA,SAAS,EAAE,MAFI;AAGfH,MAAAA,GAAG,EAAE;AAHU,KAAD,EAIb;AACDD,MAAAA,KAAK,EAAE,UADN;AAEDI,MAAAA,SAAS,EAAE,KAFV;AAGDH,MAAAA,GAAG,EAAE;AAHJ,KAJa,CAflB;AAwBE,IAAA,WAAW,EAAE,CAAC;AACZD,MAAAA,KAAK,EAAE,UADK;AAEZC,MAAAA,GAAG,EAAE,eAFO;AAGZC,MAAAA,QAAQ,EAAE,CAAC,EAAD;AAHE,KAAD,CAxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA6BE,oBAAC,2BAAD;AACI,IAAA,gBAAgB,EAAEH,gBADtB;AAEI,IAAA,cAAc,EAAEI,cAFpB;AAGI,IAAA,WAAW,EAAEI,WAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7BF,CAD6C;AAAA,CApCjD","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { storiesOf } from '@storybook/react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport ElementsTreeAndDetailsTable from \"./ElementsTreeAndDetailsTable\";\r\nimport {ElementsTreeAndDetailsTableContext} from \"./ElementsTreeAndDetailsTableContext\";\r\nimport {ElementsTreeAndDetailsTableContextProvider} from \"./ElementsTreeAndDetailsTableContextProvider\";\r\n\r\nconst elementsTreeData = [{\r\n  title: '0-0',\r\n  key: '0-0',\r\n  children: [{\r\n    title: '0-0-0',\r\n    key: '0-0-0',\r\n    children: [\r\n      { title: '0-0-0-0', key: '0-0-0-0' },\r\n      { title: '0-0-0-1', key: '0-0-0-1' },\r\n      { title: '0-0-0-2', key: '0-0-0-2' },\r\n    ],\r\n  }, {\r\n    title: '0-0-1',\r\n    key: '0-0-1',\r\n    children: [\r\n      { title: '0-0-1-0', key: '0-0-1-0' },\r\n      { title: '0-0-1-1', key: '0-0-1-1' },\r\n      { title: '0-0-1-2', key: '0-0-1-2' },\r\n    ],\r\n  }, {\r\n    title: '0-0-2',\r\n    key: '0-0-2',\r\n  }],\r\n}, {\r\n  title: '0-1',\r\n  key: '0-1',\r\n  children: [\r\n    { title: '0-1-0-0', key: '0-1-0-0' },\r\n    { title: '0-1-0-1', key: '0-1-0-1' },\r\n    { title: '0-1-0-2', key: '0-1-0-2' },\r\n  ],\r\n}, {\r\n  title: '0-2',\r\n  key: '0-2',\r\n}];\r\n\r\nconst detailsColumns = [{\r\n  title: 'Имя',\r\n  dataIndex: 'name',\r\n  key: 'name',\r\n  render: text => <a href=\"javascript:void(0);\">{text}</a>,\r\n}, {\r\n  title: 'Тип данных',\r\n  dataIndex: 'dataType',\r\n  key: 'dataType',\r\n}, {\r\n  title: 'Описание',\r\n  dataIndex: 'description',\r\n  key: 'description',\r\n}];\r\n\r\nconst detailsData = [{\r\n  key: '1',\r\n  name: 'Приоритет',\r\n  dataType: 'число',\r\n  description: 'Приоритет требования',\r\n}, {\r\n  key: '2',\r\n  name: 'Риск',\r\n  dataType: 'число',\r\n  description: 'Риск требования',\r\n}];\r\n\r\nconst expandedKeys = [];\r\n\r\n\r\n// в отдельной функции маппинг изменения одного компонента на изменение состояния другого\r\n\r\nconst detailsQuery = \r\n`SELECT ?pred ?obj\r\nWHERE {\r\n <###> ?pred ?obj\r\n}`;\r\n\r\n\r\n\r\nstoriesOf('Редактор атрибутов классов', module)\r\n//  .add('Без данных', () => <ElementsTreeAndDetailsTable />) // эта штука без контекста не работает и не факт, что должна\r\n  .add('С корректными данными иерархии классов', () => \r\n    <ElementsTreeAndDetailsTableContextProvider\r\n      url={\"https://agentlab.ru/rdf4j-server/repositories/reqs\"}\r\n      query={`PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n      PREFIX oslc: <http://open-services.net/ns/core#>\r\n      \r\n      SELECT DISTINCT ?type ?label\r\n      WHERE {\r\n       ?type a rdfs:Class .\r\n       ?type rdfs:isDefinedBy oslc:\r\n       OPTIONAL {\r\n         ?type rdfs:label ?label .\r\n         FILTER (lang(?label) = \"\" || lang(?label) = \"en\")\r\n       }\r\n      }`}\r\n      detailsQuery={detailsQuery}\r\n      detailsColumns={[{\r\n        title: 'Параметр',\r\n        dataIndex: 'pred',\r\n        key: 'pred',\r\n      }, {\r\n        title: 'Значение',\r\n        dataIndex: 'obj',\r\n        key: 'obj',\r\n      }]}\r\n      rootElement={[{\r\n        title: 'Class',\r\n        key: 'rdfs:Class',\r\n        children: [{}]\r\n      }]} >\r\n      <ElementsTreeAndDetailsTable elementsHeader={\"Классы\"} detailsHeader={\"Детали класса\"} />\r\n    </ElementsTreeAndDetailsTableContextProvider>\r\n  )\r\n  .add('С корректными данными иерархии свойств', () => \r\n    <ElementsTreeAndDetailsTableContextProvider\r\n      url={\"https://agentlab.ru/rdf4j-server/repositories/reqs\"}\r\n      query={`PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n      PREFIX oslc: <http://open-services.net/ns/core#>\r\n      \r\n      SELECT DISTINCT ?type ?label\r\n      WHERE {\r\n       ?type a rdf:Property .\r\n       OPTIONAL {\r\n        ?type rdfs:label ?label .\r\n        FILTER (lang(?label) = \"\" || lang(?label) = \"en\")\r\n       }\r\n      }`}\r\n      detailsQuery={detailsQuery}\r\n      detailsColumns={[{\r\n        title: 'Параметр',\r\n        dataIndex: 'pred',\r\n        key: 'pred',\r\n      }, {\r\n        title: 'Значение',\r\n        dataIndex: 'obj',\r\n        key: 'obj',\r\n      }]}\r\n      rootElement={[{\r\n        title: 'Property',\r\n        key: 'rdfs:Property',\r\n        children: [{}]\r\n      }]} >\r\n      <ElementsTreeAndDetailsTable \r\n          elementsTreeData={elementsTreeData} \r\n          detailsColumns={detailsColumns} \r\n          detailsData={detailsData}  />\r\n    </ElementsTreeAndDetailsTableContextProvider>\r\n  );\r\n"]},"metadata":{},"sourceType":"module"}